
<button pButton type="button" label="Tüm Ligi Oynat" (click)="playAll()" class="ml-2"></button>

<h2>{{ currentWeek }}. Hafta Maç Sonuçları</h2>
<ul>
  <li *ngFor="let match of currentMatches$ | async">
    {{ match.homeTeam.name }} {{ match.homeGoals }} - {{ match.awayGoals }} {{ match.awayTeam.name }}
  </li>
</ul>

<button pButton type="button" label="Sonraki Hafta" (click)="playNextWeek()"></button>

<p-table [value]="(teams$ | async)!" [responsiveLayout]="'scroll'">
  <ng-template pTemplate="header">
    <tr>
      <th>Takım</th>
      <th>O</th>
      <th>G</th>
      <th>B</th>
      <th>M</th>
      <th>Av.</th>
      <th>Puan</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-team>
    <tr
    [ngStyle]="{
      'background-color': championChances.get(team.id) === 0 ? '#ffe5e5' : 'transparent'
    }"
    [title]="championChances.get(team.id) === 0 ? 'Şampiyonluk şansı kalmadı' : ''"
    >
      <td>{{ team.name }}</td>
      <td>{{ team.matchesPlayed }}</td>
      <td>{{ team.wins }}</td>
      <td>{{ team.draws }}</td>
      <td>{{ team.losses }}</td>
      <td>{{ team.goalDifference }}</td>
      <td>{{ team.points }}</td>
    </tr>
  </ng-template>
</p-table>



<div *ngIf="championPredictions$ | async as predictions">
  <h3>{{ currentWeek }}. Hafta Şampiyonluk Tahminleri</h3>
  <p-table [value]="predictions">
    <ng-template pTemplate="header">
      <tr>
        <th>Takım</th>
        <th>Şampiyonluk İhtimali</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td>{{ row.team.name }}</td>
        <td>%{{ row.chance }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
